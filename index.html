<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="theme-color" content="#ff9550" />
  <title>Garage Management System</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Toast Notifications Container -->
  <div id="toastContainer" class="toast-container"></div>

  <div class="shell">
    <div class="glow"></div>

    <!-- Navigation Tabs -->
    <nav class="nav-tabs" role="tablist" aria-label="Section navigation">
      <button id="tab-stock" class="nav-tab active" data-tab="stock" role="tab" aria-controls="stock-tab" aria-selected="true">
        <span class="icon">ğŸ“¦</span>
        <span>Stock</span>
      </button>
      <button id="tab-clients" class="nav-tab" data-tab="clients" role="tab" aria-controls="clients-tab" aria-selected="false">
        <span class="icon">ğŸ‘¥</span>
        <span>Clients</span>
      </button>
      <button id="tab-loyal" class="nav-tab" data-tab="loyal" role="tab" aria-controls="loyal-tab" aria-selected="false">
        <span class="icon">â­</span>
        <span>Loyal Clients</span>
      </button>
      <button id="tab-analytics" class="nav-tab" data-tab="analytics" role="tab" aria-controls="analytics-tab" aria-selected="false">
        <span class="icon">ğŸ“Š</span>
        <span>Analytics</span>
      </button>
      <button id="tab-sales" class="nav-tab" data-tab="sales" role="tab" aria-controls="sales-tab" aria-selected="false">
        <span class="icon">ğŸ’°</span>
        <span>Sales Log</span>
      </button>
      <button id="tab-history" class="nav-tab" data-tab="history" role="tab" aria-controls="history-tab" aria-selected="false">
        <span class="icon">ğŸ“…</span>
        <span>History</span>
      </button>
    </nav>

    <!-- Tab: Stock -->
    <section id="stock-tab" class="tab-content active" role="tabpanel" aria-labelledby="tab-stock" aria-hidden="false">
      <header>
        <div class="brand">
          <h1>ğŸ“¦ Stock Management</h1>
          <p>Tap image to reduce stock</p>
        </div>
        <div class="controls">
          <div class="stats">
            <div class="stat">Sold Today: <strong id="count12h">0</strong></div>
            <div class="stat">ğŸ’· Revenue: <strong id="revenueToday">0</strong> GBP</div>
            <div class="stat timer" id="timerDisplay">ğŸ• <span id="resetCountdown">12:00</span></div>
          </div>
          <div class="search">
            <span>ğŸ”</span>
            <input id="search" type="search" placeholder="Search product..." />
          </div>
          <button class="ghost" id="undoBtn" title="Undo last action">â†¶ Undo</button>
          <button class="primary" id="openModal">+ Add Stock</button>
        </div>
      </header>
      <!-- Stock summary (totals) -->
      <div class="stock-summary" id="stockSummary" aria-live="polite">
        <span class="chip">Items in stock: <strong id="sumItems">0</strong></span>
        <span class="chip warning">Low stock: <strong id="sumLow">0</strong></span>
        <span class="chip danger">Out of stock: <strong id="sumOut">0</strong></span>
      </div>

      <!-- Stock toolbar: filters + sort -->
      <div class="stock-toolbar" aria-label="Stock controls">
        <div class="filters" role="group" aria-label="Filters">
          <button type="button" class="pill active" data-filter="all">All</button>
          <button type="button" class="pill" data-filter="low">Low</button>
          <button type="button" class="pill" data-filter="out">Out</button>
        </div>
        <div class="categories" role="group" aria-label="Categories">
          <button type="button" class="pill category active" data-category="all">All</button>
          <button type="button" class="pill category" data-category="Fluids">Fluids</button>
          <button type="button" class="pill category" data-category="Filters">Filters</button>
          <button type="button" class="pill category" data-category="Brakes">Brakes</button>
          <button type="button" class="pill category" data-category="Electrical">Electrical</button>
          <button type="button" class="pill category" data-category="Consumables">Consumables</button>
        </div>
        <div class="sort">
          <label for="sortSelect">Sort</label>
          <select id="sortSelect" aria-label="Sort products">
            <option value="stock-desc">Stock â†“</option>
            <option value="stock-asc">Stock â†‘</option>
            <option value="name-asc">Name Aâ€“Z</option>
          </select>
        </div>
      </div>
      <button type="button" class="ghost small" id="resetFiltersBtn" title="Clear all filters and sorting">â†» Reset Filters</button>

      <section class="grid" id="grid"></section>
    </section>

    <!-- Tab: Clients -->
    <section id="clients-tab" class="tab-content" role="tabpanel" aria-labelledby="tab-clients" aria-hidden="true">
      <header>
        <div class="brand">
          <h1>ğŸ‘¥ Client Management</h1>
          <p>Manage clients, track work & payments</p>
        </div>
      </header>

      <div class="clients-container">
        <!-- Quick Stats -->
        <div class="clients-stats">
          <div class="stat-item">
            <div class="stat-label">Active Clients</div>
            <div class="stat-number" id="activeClientsCount">0</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">Total Due</div>
            <div class="stat-amount" id="totalDueAmount">Â£0.00</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">Fully Paid</div>
            <div class="stat-number" id="paidClientsCount">0</div>
          </div>
        </div>

        <!-- Add Client Section -->
        <div class="add-client-section">
          <h3>â• New Client</h3>
          <form id="quickClientForm" class="add-client-form">
            <input id="clientName" type="text" placeholder="Client name" required />
            <input id="clientPhone" type="tel" placeholder="Phone number" />
            <input id="clientCar" type="text" placeholder="Car model" />
            <button type="submit" class="primary">Add Client</button>
          </form>
        </div>

        <!-- Search & Filter Section -->
        <div class="clients-search-section">
          <input id="clientSearch" type="text" placeholder="ğŸ” Search clients by name, phone, or car..." />
        </div>

        <!-- Clients List -->
        <div class="clients-list" id="clientsList"></div>
      </div>
    </section>

    <!-- Tab: Loyal Clients -->
    <section id="loyal-tab" class="tab-content" role="tabpanel" aria-labelledby="tab-loyal" aria-hidden="true">
      <div class="loyal-clients-container">
        <h2>â­ Loyal Clients Management</h2>

        <!-- Undo Button -->
        <div id="undoLoyalBtn" class="undo-notification" style="display: none;">
          <span>Deleted successfully</span>
          <button onclick="undoLastDelete()">â†©ï¸ Undo</button>
        </div>

        <!-- Stats Header -->
        <div class="loyal-stats">
          <div class="stat-item">
            <div class="stat-icon">ğŸ‘¥</div>
            <div class="stat-content">
              <div class="stat-value" id="loyalClientsCount">0</div>
              <div class="stat-label">Loyal Clients</div>
            </div>
          </div>
          <div class="stat-item">
            <div class="stat-icon">ğŸš</div>
            <div class="stat-content">
              <div class="stat-value" id="totalVehiclesCount">0</div>
              <div class="stat-label">Total Vehicles</div>
            </div>
          </div>
          <div class="stat-item">
            <div class="stat-icon">ğŸ’°</div>
            <div class="stat-content">
              <div class="stat-value" id="totalOutstanding">Â£0</div>
              <div class="stat-label">Total Outstanding</div>
            </div>
          </div>
        </div>

        <!-- Filter Controls -->
        <div class="loyal-filters">
          <div class="filter-group">
            <label>Sort by:</label>
            <select id="loyalSortSelect">
              <option value="name-asc">Name (A-Z)</option>
              <option value="name-desc">Name (Z-A)</option>
              <option value="vehicles-desc">Most Vehicles</option>
              <option value="balance-desc">Highest Balance</option>
              <option value="recent">Recently Added</option>
            </select>
          </div>
          <div class="filter-group">
            <label>Filter by:</label>
            <select id="loyalFilterSelect">
              <option value="all">All Clients</option>
              <option value="has-balance">Has Outstanding Balance</option>
              <option value="paid">Fully Paid</option>
              <option value="has-vehicles">Has Vehicles</option>
            </select>
          </div>
        </div>

        <!-- Add Loyal Client Form -->
        <div class="add-section">
          <h3>Add New Loyal Client</h3>
          <form id="loyalClientForm" class="add-loyal-client-form">
            <input id="loyalClientName" type="text" placeholder="Client name" required />
            <input id="loyalClientPhone" type="tel" placeholder="Phone number" required />
            <input id="loyalClientPhoto" type="url" placeholder="Photo URL (optional)" />
            <button type="submit" class="primary">Add Loyal Client</button>
          </form>
        </div>

        <!-- Search Section -->
        <div class="loyal-search-section">
          <input id="loyalSearch" type="text" placeholder="ğŸ” Search loyal clients..." />
        </div>

        <!-- Loyal Clients Grid -->
        <div class="loyal-clients-grid" id="loyalClientsGrid"></div>
      </div>
    </section>

    <!-- Tab: Analytics -->
    <section id="analytics-tab" class="tab-content" role="tabpanel" aria-labelledby="tab-analytics" aria-hidden="true">
      <div class="analytics-container">
        <h2>ğŸ“Š Analytics & Reports</h2>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-label">Sold Today</div>
            <div class="stat-value" id="stat-sold">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Revenue Today</div>
            <div class="stat-value" id="stat-revenue">Â£0.00</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Active Clients</div>
            <div class="stat-value" id="stat-active-clients">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Total Debt</div>
            <div class="stat-value" id="stat-total-debt">Â£0.00</div>
          </div>
        </div>

        <!-- Top Products -->
        <div class="report-section">
          <h3>ğŸ”¥ Top Products (Sold Today)</h3>
          <div id="topProducts" class="report-list"></div>
        </div>

        <!-- Top Clients -->
        <div class="report-section">
          <h3>â­ Top Clients (Spend)</h3>
          <div id="topClients" class="report-list"></div>
        </div>
      </div>
    </section>

    <!-- Tab: Sales Log -->
    <section id="sales-tab" class="tab-content" role="tabpanel" aria-labelledby="tab-sales" aria-hidden="true">
      <header>
        <div class="brand">
          <h1>ğŸ’° Today's Sales Log</h1>
          <p>View and manage today's sales</p>
        </div>
      </header>

      <!-- Today's Sales Log -->
      <div class="sales-log-section">
        <div class="sales-log-container">
          <table class="sales-table" id="salesTable">
            <thead>
              <tr>
                <th>Product</th>
                <th>Qty</th>
                <th>Price (Â£)</th>
                <th>Total (Â£)</th>
                <th>Time</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="salesTableBody">
              <tr>
                <td colspan="6" style="text-align: center; color: #666; padding: 16px;">No sales yet today</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Tab: History -->
    <section id="history-tab" class="tab-content" role="tabpanel" aria-labelledby="tab-history" aria-hidden="true">
      <header>
        <div class="brand">
          <h1>ğŸ“… History</h1>
          <p>Track daily and monthly performance</p>
        </div>
      </header>

      <!-- Daily History Section -->
      <div class="history-section">
        <h2>ğŸ“Š Daily History</h2>
        <div class="history-container">
          <table class="history-table" id="dailyHistoryTable">
            <thead>
              <tr>
                <th>Date</th>
                <th>Revenue (Â£)</th>
                <th>Transactions</th>
                <th>Products Sold</th>
              </tr>
            </thead>
            <tbody id="dailyHistoryTableBody">
              <tr>
                <td colspan="4" style="text-align: center; color: #666;">No daily data yet</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Monthly History Section -->
      <div class="history-section">
        <h2>ğŸ“ˆ Monthly History</h2>
        <div class="history-container">
          <table class="history-table" id="monthlyHistoryTable">
            <thead>
              <tr>
                <th>Month</th>
                <th>Revenue (Â£)</th>
                <th>Transactions</th>
                <th>Products Sold</th>
                <th>Active Clients</th>
              </tr>
            </thead>
            <tbody id="monthlyHistoryTableBody">
              <tr>
                <td colspan="5" style="text-align: center; color: #666;">No monthly data yet</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </div>

  <!-- Client Details Modal -->
  <div class="overlay" id="clientModal">
    <div class="modal large">
      <div class="modal-header">
        <h2 id="clientModalTitle">Client Invoice</h2>
        <button type="button" id="closeClientModal" class="close-btn">âœ•</button>
      </div>

      <div class="modal-body">
        <!-- Invoice Header -->
        <div class="invoice-header">
          <div>
            <h3 id="invoiceClientName">Client Name</h3>
            <p id="invoiceClientPhone" class="muted">Phone</p>
            <p id="invoiceClientCar" class="muted">Car</p>
          </div>
          <div class="invoice-status">
            <div id="invoiceStatus" class="status-badge">PENDING</div>
          </div>
        </div>

        <!-- Work/Services Section -->
        <div class="section">
          <h3>ğŸ”§ Services & Work</h3>
          <form id="workForm" class="form-group">
            <textarea id="workDesc" placeholder="Work description (e.g., Oil change, Brake inspection)..." required></textarea>
            <textarea id="partsList" placeholder="Parts used (optional)..." ></textarea>
            <div class="form-row">
              <input id="workPrice" type="number" min="0" step="0.01" placeholder="Labour cost (Â£)" required />
              <input id="partsPrice" type="number" min="0" step="0.01" placeholder="Parts cost (Â£) - optional" />
            </div>
            <button type="submit" class="primary small">+ Add Service</button>
          </form>
          <div id="workList" class="invoice-items"></div>
        </div>

        <!-- Invoice Summary -->
        <div class="invoice-summary">
          <div class="summary-row">
            <span>Subtotal:</span>
            <span id="subtotalWork">Â£0.00</span>
          </div>
          <div class="summary-row">
            <span>Paid:</span>
            <span id="paidAmount" class="paid">Â£0.00</span>
          </div>
          <div class="summary-row total">
            <span>Total Due:</span>
            <span id="totalDueInvoice">Â£0.00</span>
          </div>
        </div>

        <!-- Payment Section -->
        <div class="section">
          <h3>ğŸ’³ Record Payment</h3>
          <form id="paymentForm" class="form-group">
            <div class="form-row">
              <input id="paymentAmount" type="number" min="0" step="0.01" placeholder="Payment amount (Â£)" />
              <button type="submit" class="primary small">ğŸ’¾ Record Payment</button>
            </div>
          </form>
          <div id="paymentList" class="payment-list"></div>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" id="markClientPaidBtn" class="primary">âœ“ Mark Fully Paid</button>
        <button type="button" id="deleteClientInModalBtn" class="danger">ğŸ—‘ï¸ Delete Client</button>
        <button type="button" id="closeClientModalBtn" class="ghost">Back</button>
      </div>
    </div>
  </div>

  <!-- Invoice Viewer Modal (Full Screen) -->
  <div class="overlay fullscreen" id="invoiceViewer">
    <div class="invoice-viewer-container">
      <div class="invoice-viewer-header">
        <h2>ğŸ“‹ Client Invoice</h2>
        <button type="button" id="closeInvoiceViewer" class="close-btn">âœ•</button>
      </div>

      <div class="invoice-viewer-content">
        <!-- Invoice Header -->
        <div class="invoice-viewer-header-section">
          <div class="invoice-viewer-client-info">
            <h3 id="viewInvoiceClientName">Client Name</h3>
            <p id="viewInvoiceClientPhone">ğŸ“ Phone</p>
            <p id="viewInvoiceClientCar">ğŸš— Car</p>
          </div>
          <div class="invoice-viewer-status-section">
            <div id="viewInvoiceStatus" class="status-badge large">PENDING</div>
            <p class="invoice-date" id="invoiceDate"></p>
          </div>
        </div>

        <!-- Services Table -->
        <div class="invoice-viewer-section">
          <h3>Services & Work</h3>
          <table class="invoice-table">
            <thead>
              <tr>
                <th>Description</th>
                <th>Parts</th>
                <th>Labour</th>
                <th>Parts Cost</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody id="viewInvoiceItems">
              <tr>
                <td colspan="5" style="text-align: center; color: #999;">No services recorded</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Invoice Summary -->
        <div class="invoice-viewer-section">
          <div class="invoice-viewer-summary">
            <div class="summary-row">
              <span>Subtotal:</span>
              <span id="viewSubtotalWork">Â£0.00</span>
            </div>
            <div class="summary-row">
              <span>Paid:</span>
              <span id="viewPaidAmount" class="paid">Â£0.00</span>
            </div>
            <div class="summary-row total">
              <span>Total Due:</span>
              <span id="viewTotalDueInvoice">Â£0.00</span>
            </div>
          </div>
        </div>

        <!-- Payment History -->
        <div class="invoice-viewer-section">
          <h3>Payment History</h3>
          <div id="viewPaymentList" class="payment-list"></div>
        </div>
      </div>

      <div class="invoice-viewer-footer">
        <button type="button" id="printInvoiceBtn" class="primary">ğŸ–¨ï¸ Print Invoice</button>
        <button type="button" id="editInvoiceBtn" class="secondary">âœï¸ Edit Details</button>
        <button type="button" id="closeInvoiceViewerBtn" class="ghost">Back</button>
      </div>
    </div>
  </div>

  <!-- Loyal Client Details Modal -->
  <div class="overlay" id="loyalClientModal">
    <div class="modal large-modal">
      <button class="close-modal" id="closeLoyalClientModal">âœ•</button>
      <h2>ğŸ‘¤ Loyal Client Details</h2>

      <div class="loyal-client-details">
        <div class="loyal-client-header">
          <div class="loyal-client-photo-large" id="loyalClientPhotoLarge"></div>
          <div class="loyal-client-info">
            <h3 id="loyalClientNameDisplay"></h3>
            <p><strong>Client #:</strong> <span id="loyalClientNumberDisplay"></span></p>
            <p><strong>Phone:</strong> <span id="loyalClientPhoneDisplay"></span></p>
          </div>
        </div>

        <!-- Add Vehicle Section -->
        <div class="add-vehicle-section">
          <h3>Add Vehicle</h3>
          <form id="addVehicleForm" class="add-vehicle-form">
            <input id="vehicleCar" type="text" placeholder="Car model/plate" required />
            <input id="vehicleNotes" type="text" placeholder="Notes (optional)" />
            <button type="submit" class="primary">Add Vehicle</button>
          </form>
        </div>

        <!-- Vehicles List -->
        <div class="vehicles-section">
          <h3>Vehicles (Vans)</h3>
          <div id="loyalVehiclesList" class="loyal-vehicles-list"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Vehicle Work Modal -->
  <div class="overlay" id="vehicleWorkModal">
    <div class="modal large-modal">
      <button class="close-modal" id="closeVehicleWorkModal">âœ•</button>
      <h2>ğŸš Vehicle Work Management</h2>

      <div class="vehicle-work-details">
        <div class="vehicle-work-header">
          <h3 id="vehicleWorkCarDisplay"></h3>
          <p><strong>Client:</strong> <span id="vehicleWorkClientDisplay"></span></p>
        </div>

        <!-- Add Work Section -->
        <div class="add-work-section">
          <h3>Add Work</h3>
          <form id="addVehicleWorkForm" class="add-work-form">
            <input id="vehicleWorkDesc" type="text" placeholder="Work description" required />
            <input id="vehicleWorkParts" type="text" placeholder="Parts used" />
            <input id="vehicleWorkLabour" type="number" placeholder="Labour Â£" required />
            <input id="vehicleWorkPartsCost" type="number" placeholder="Parts Cost Â£" />
            <button type="submit" class="primary">Add Work</button>
          </form>
        </div>

        <!-- Works List -->
        <div class="works-section">
          <h3>Work History</h3>
          <div id="vehicleWorksList" class="vehicle-works-list"></div>
        </div>

        <!-- Payment Section -->
        <div class="payment-section">
          <h3>Add Payment</h3>
          <form id="addVehiclePaymentForm" class="add-payment-form">
            <input id="vehiclePaymentAmount" type="number" placeholder="Amount Â£" required />
            <button type="submit" class="primary">Record Payment</button>
          </form>
          <div id="vehiclePaymentsList" class="payments-list"></div>
        </div>

        <!-- Summary -->
        <div class="vehicle-summary">
          <div class="summary-row">
            <span>Total Work:</span>
            <span id="vehicleTotalWork">Â£0</span>
          </div>
          <div class="summary-row">
            <span>Total Paid:</span>
            <span id="vehicleTotalPaid">Â£0</span>
          </div>
          <div class="summary-row total">
            <span>Balance Due:</span>
            <span id="vehicleBalanceDue">Â£0</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Vehicle Invoice Viewer Modal -->
  <div class="overlay" id="vehicleInvoiceViewer">
    <div class="modal invoice-viewer-modal">
      <button class="close-modal" id="closeVehicleInvoiceViewer">âœ•</button>
      
      <div class="invoice-viewer-container">
        <!-- Invoice Header -->
        <div class="invoice-viewer-header">
          <h1>Vehicle Invoice</h1>
          <div class="invoice-viewer-client-info">
            <h2 id="viewVehicleInvoiceClientName">Client Name</h2>
            <p id="viewVehicleInvoiceClientPhone">ğŸ“ Phone</p>
            <p id="viewVehicleInvoiceClientCar">ğŸš— Vehicle</p>
            <p id="vehicleInvoiceDate" style="color: #666; font-size: 14px; margin-top: 8px;">Invoice Date: -</p>
          </div>
          <div class="invoice-viewer-status">
            <span class="status-badge large pending" id="viewVehicleInvoiceStatus">PENDING</span>
          </div>
        </div>

        <!-- Services Table -->
        <div class="invoice-viewer-section">
          <h3>Services & Parts</h3>
          <table class="invoice-table">
            <thead>
              <tr>
                <th>Service Description</th>
                <th>Parts Used</th>
                <th>Labour</th>
                <th>Parts Cost</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody id="viewVehicleInvoiceItems">
              <tr>
                <td colspan="5" style="text-align: center; color: #999;">No services recorded</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Invoice Summary -->
        <div class="invoice-viewer-section">
          <div class="invoice-viewer-summary">
            <div class="summary-row">
              <span>Subtotal:</span>
              <span id="viewVehicleSubtotalWork">Â£0.00</span>
            </div>
            <div class="summary-row">
              <span>Paid:</span>
              <span id="viewVehiclePaidAmount" class="paid">Â£0.00</span>
            </div>
            <div class="summary-row total">
              <span>Total Due:</span>
              <span id="viewVehicleTotalDueInvoice">Â£0.00</span>
            </div>
          </div>
        </div>

        <!-- Payment History -->
        <div class="invoice-viewer-section">
          <h3>Payment History</h3>
          <div id="viewVehiclePaymentList" class="payment-list"></div>
        </div>
      </div>

      <div class="invoice-viewer-footer">
        <button type="button" id="printVehicleInvoiceBtn" class="primary">ğŸ–¨ï¸ Print Invoice</button>
        <button type="button" id="closeVehicleInvoiceViewerBtn" class="ghost">Back</button>
      </div>
    </div>
  </div>

  <!-- Stock Add Modal -->
  <div class="overlay" id="stockModal">
    <div class="modal">
      <div class="modal-header">
        <h2>Add Stock</h2>
        <button type="button" id="closeStockModal" class="close-btn">âœ•</button>
      </div>
      <form id="addStockForm" class="form-group">
        <label>Product</label>
        <div class="product-picker">
          <input id="productSearch" type="text" placeholder="Search..." />
          <div id="productList" class="product-list"></div>
          <div id="selectedProduct" class="selected-product" style="display: none;"></div>
        </div>
        <input id="itemSelect" type="hidden" />
        
        <label>Quantity</label>
        <input id="qty" type="number" min="1" value="5" required />
        
        <label>Price (Â£)</label>
        <input id="price" type="number" min="0" step="0.01" placeholder="99.99" />
        
        <div class="form-row">
          <button type="button" class="ghost" id="closeStockModalBtn">Cancel</button>
          <button type="submit" class="primary">Save</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Mobile Fixed Stats Bar -->
  <div class="mobile-stats">
    <span class="chip">Sold: <strong id="mCount12h">0</strong></span>
    <span class="chip">ğŸ’· <strong id="mRevenueToday">0</strong> GBP</span>
    <span class="chip timer" id="mTimerDisplay">ğŸ• <span id="mResetCountdown">12:00</span></span>
  </div>

  <script src="app.js"></script>
</body>
</html>
